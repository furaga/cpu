## -*- coding: utf-8 -*-
<%inherit file="skeleton.tmp"/>
entity fetch is
<%include file="fetch_entity.tmp"/>
end fetch;

architecture behavior of fetch is

	subtype word_t is ${oc.ir_t()};
	type mem_t is array (0 to ${oc.prom_size()}) of word_t;
	signal addr_in	: integer range 0 to ${oc.prom_size()};

	constant mem : mem_t := (
<%include file="test"/>
	 );

begin
	addr_in <= conv_integer(PC(14 downto 0));
	read_op: process(CLK_FT)
	begin
		if rising_edge(CLK_FT) then
			PROM_OUT <= mem(addr_in);
		end if;
	end process;

end behavior;
<%namespace name="oc" file="macro.tmp"/>
